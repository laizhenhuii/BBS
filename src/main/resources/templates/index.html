<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>BBS论坛</title>
    <link rel="stylesheet" href="/asserts/css/reset.css"/>
    <link rel="stylesheet" href="/asserts/css/public.css"/>
    <link rel="stylesheet" href="/asserts/css/index.css"/>
</head>
<body onload="calendar()">
<header class="ltHead">
    <div class="ltHead_cen">
        <a href=""><img src="/asserts/img/logo.png" alt="" class="headPic1"/></a>
        <ul class="headNav">
            <li><a href="" th:href="@{/}">首页</a></li>
            <li><a href="" th:href="@{/boutiquePost}">精品贴区</a></li>
            <li><a href="">需求贴区</a></li>
            <li><a href="">人气排行</a></li>
            <li><a href="">积分商城</a></li>
            <li><a href="">天健</a></li>
            <li><a href="">休闲</a></li>
            <li><a href="">医学院</a></li>
        </ul>
        <!--未登入开始-->
        <div class="ltForm appear" th:if="${#strings.isEmpty(session.loginUser)}">
            <a href="" th:href="@{login.html}"><img src="asserts/img/indexForm_bg.png" alt="" class="headPic2"/></a>
            <ul>
                <li><a href="login.html" th:href="@{login.html}">登录</a></li>
                <li><a href="register.html" th:href="@{register.html}">注册</a></li>
            </ul>
        </div>
        <!-- 未登入结束-->
        <!-- 登入开始，未登入时以下隐藏-->
        <div class="lt_login" th:if="${not #strings.isEmpty(session.loginUser)}">
            <ul>
                <li><a href="" th:text="${session.loginUser}" th:href="@{/toMyHome}"></a></li>
                <li><a th:href="@{/index/exit}" >退出</a></li>
            </ul>
        </div>
        <!-- 登入结束-->
        <div class="navFix">
            <!--登入开始-->
            <a href="" class="navWrite" th:if="${not #strings.isEmpty(session.loginUser)}" th:href="@{/writePost}">发新帖</a>
            <!--登入结束-->
            <!--未登入开始-->
            <a href="" class="navLogin" th:if="${#strings.isEmpty(session.loginUser)}" th:href="@{login.html}">登录</a>
            <!--未登入结束-->

        </div>
    </div>
</header>
<div class="indexMain">
    <div class="indexMain_left">
        <div class="indexMain_left_btn">
            <ul>
                <li><a class="on" th:href="@{/}">最新</a></li>
                <li><a class="on" th:href="@{/topPost}">置顶</a></li>
            </ul>
        </div>
        <div class="indexMain_left_con">
            <!--有主题图循环开始-->
            <div class="indexCon_msg" th:each="post:${Post}">
                <div class="indexCon_msg_pic" th:text="${post.getPostID()}">（头像）</div>
                <div class="indexCon_msg_detail">
                    <a href="" th:href="@{/toPost/}+${post.getPostID()}">
                        <div class="indexCon_msg_detail_tittle">
                            <span th:text="${post.getModuleType()}">（类别)</span>
                            <p th:text="${post.getPostTitle()}">（标题）</p>
                        </div>
                    </a>
                    <div class="havePic">
                        <a href=""><div class="havePic_head">（主题图）</div></a>
                    </div>
                    <div class="indexCon_msg_detail_other">
                        <ul>
                            <li th:text="${post.getPosterName()}">（发帖人）</li>
                            <li th:text="${post.getPostTime()}">（发表时间）1天前</li>
                            <li th:text="${post.getLikeNumber()}">（点赞量）21</li>
                            <li>（评论数）28</li>
                        </ul>
                    </div>
                </div>
                <div class="clear">（分割线）</div>
            </div>
            <!--有主题图循环结束-->
        </div>
        <div class="indexFooter" th:if="${not #strings.isEmpty(ms1)}">
            <div class="indexFooter_con">
                <a href="javascript:"><</a>
                <a href="" class="on" th:href="@{/newPost}">1</a>
                <a href="">2</a>
                <a href="">3</a>
                <a href="javascript:">></a>
            </div>
        </div>
    </div>
    <div class="indexMain_right">
        <div class="indexMain_rightCon">
            <a href="" class="newMsg" th:href="@{/writePost}">发新帖</a>
            <div class="pwfb">
                <div class="pwfbHead" th:text="${#strings.isEmpty(session.loginUser)}?'欢迎来到BBS论坛':'${session.loginUser}'">
                    (签到区顶部）
                </div>
                <div class="pwfbCon">
                    <div id="box">
                        <div id="box_top"></div>
                        <div id="box_bottom"></div>
                    </div>
                </div>
                <div class="pwfbFooter">
                    <button id="theButton">签到</button>
                </div>
            </div>
            <div class="indexSearch">
                <form action="" method="post">
                    <input type="text" placeholder="请输入关键词"/>
                    <input type="submit" value="搜索"/>
                </form>
            </div>
            <div class="indexPublic">
                <div class="indexPublic_head">
                    本周热议（浏览量）
                </div>
                <div class="indexPublic_con">
                    <ul class="weekHot">
                        <li th:each="post1:${hotPost}" >
                            <a href=""th:text="${post1.getPostTitle()}"></a>
                            <span th:text="${post1.getPostID()}"></span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="indexPublic">
                <div class="indexPublic_head">
                    本周热点（点赞量）
                </div>
                <div class="indexPublic_con">
                    <ul class="indexLink">
                        <li th:each="post1:${hotPost}" >
                            <a href="" th:text="${post1.getPostTitle()}"></a>
                        </li>
                    </ul>
                </div>
            </div>
            <!--            <div class="indexWxpublic">-->
            <!--                <p>关注微信公众号</p>-->
            <!--            </div>-->
        </div>
    </div>
    <div class="clear"></div>
</div>
<footer class="publicFooter">
    <p>Copyright &copy; 2019-2020 BBS论坛 南昌大学信息工程学院计算机科学与技术专业JavaWeb程序设计课程期末大作业版权所有 version：1.0.0</p>
</footer>
</body>
</html>
<script src="asserts/js/jquery-1.8.3.min.js"></script>
<script>
    $(".indexMain_left_btn li a").click(function(){
        $(".indexMain_left_btn li a").removeClass("on");
        $(this).addClass("on");
    });
    window.onscroll=function(){
        var scrolls=document.body.scrollTop||document.documentElement.scrollTop;
        var slided=60;
        if(scrolls>=slided){
            $(".appear").hide();
            $(".navFix").show();
            $(".ltHead").addClass("navTop");
        }else{
            $(".appear").show();
            $(".navFix").hide();
            $(".ltHead").removeClass("navTop");
        }
    };
    //动态日历js
    function calendar(){
        /*1.获取时间*/
        var date = new Date();
        var y = date.getFullYear();
        var m = date.getMonth() + 1;
        var d = date.getDate();

        /*2.获取标签动态改变内容*/
        document.getElementById('box_top').innerText = y + '年' + m + '月';
        document.getElementById('box_bottom').innerText = d;
    };
</script>